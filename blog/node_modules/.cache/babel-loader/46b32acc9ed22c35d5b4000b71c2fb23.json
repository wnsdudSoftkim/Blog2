{"ast":null,"code":"import _taggedTemplateLiteral from\"D:\\\\Blog\\\\blog\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"D:\\\\Blog\\\\blog\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n        width:100%;\\n        display:flex;\\n        flex-direction:column;\\n        .Header {\\n            display:flex;\\n            flex-direction:column;\\n            padding:30px 15px 30px;\\n            border-bottom:1px solid #ebebeb;\\n            margin-left:10px;\\n            cursor:pointer;\\n            @media(max-width:767px) {\\n                min-height:100px;\\n            }\\n            .title {\\n                font-size:18px;\\n                color:#080808;\\n                margin:8px 0px;\\n                font-weight:700;\\n                &:hover {\\n                    text-decoration:underline;\\n                }\\n            }\\n            .body {\\n                font-size:15px;\\n                color:#666666;\\n                overflow:hidden;\\n                lien-height:1.6;\\n            }\\n        }\\n        \\n    \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import styled from'styled-components';import axios from'axios';import{Link}from'react-router-dom';import ListIcon from'./Icon/ListIcon.js';// 페이징 로직 참조 https://medium.com/@han7096/%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%8E%98%EC%9D%B4%EC%A7%80%EB%84%A4%EC%9D%B4%EC%85%98-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-eb4f0f4a1da0\n// 페이징 나중에 구현\nvar fetchURL=\"http://localhost:5000/getPost\";function ShowPost(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),items=_useState2[0],SetItems=_useState2[1];var _useState3=useState({start:0,end:8}),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],SetCount=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),target=_useState6[0],SetTarget=_useState6[1];var page=count.page,start=count.start,end=count.end;useEffect(function(){axios.post(fetchURL).then(function(res){console.log(res);console.log(res.data.length);SetItems(res.data);SetTarget(res.data.slice(start,end));});},[]);var key=null;var ChangeIndexUp=function ChangeIndexUp(){SetCount({end:end+8});SetTarget(items.slice(start,end));key=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ShowPost,null));};var ShowPostBlock=styled.div(_templateObject());return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ShowPostBlock,null,items?items.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{key:item.id},/*#__PURE__*/React.createElement(Link,{to:\"/PostPage/\".concat(item._id),style:{textDecoration:'none',color:'none'}},/*#__PURE__*/React.createElement(\"div\",{className:\"Header\"},/*#__PURE__*/React.createElement(\"span\",{className:\"title\"},item.title,item._id),/*#__PURE__*/React.createElement(\"span\",{className:\"body\"},item.body))));}):\"Loading\"),/*#__PURE__*/React.createElement(ListIcon,{onClick:ChangeIndexUp}),key);}export default ShowPost;","map":{"version":3,"sources":["D:/Blog/blog/src/component/Showpost.js"],"names":["React","useState","useEffect","styled","axios","Link","ListIcon","fetchURL","ShowPost","items","SetItems","start","end","count","SetCount","target","SetTarget","page","post","then","res","console","log","data","length","slice","key","ChangeIndexUp","ShowPostBlock","div","map","item","id","_id","textDecoration","color","title","body"],"mappings":"4vCAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA;AACA;AACA,GAAMC,CAAAA,QAAQ,CAAG,+BAAjB,CAEA,QAASC,CAAAA,QAAT,EAAoB,eACSP,QAAQ,EADjB,wCACTQ,KADS,eACHC,QADG,8BAEST,QAAQ,CAAC,CAC9BU,KAAK,CAAC,CADwB,CAE9BC,GAAG,CAAC,CAF0B,CAAD,CAFjB,yCAETC,KAFS,eAEHC,QAFG,8BAMWb,QAAQ,EANnB,yCAMTc,MANS,eAMFC,SANE,kBAOTC,CAAAA,IAPS,CAOSJ,KAPT,CAOTI,IAPS,CAOJN,KAPI,CAOSE,KAPT,CAOJF,KAPI,CAOEC,GAPF,CAOSC,KAPT,CAOED,GAPF,CAShBV,SAAS,CAAC,UAAM,CACZE,KAAK,CAACc,IAAN,CAAWX,QAAX,EAAqBY,IAArB,CAA0B,SAAAC,GAAG,CAAG,CACxBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,MAArB,EACAd,QAAQ,CAACU,GAAG,CAACG,IAAL,CAAR,CACAP,SAAS,CAACI,GAAG,CAACG,IAAJ,CAASE,KAAT,CAAed,KAAf,CAAqBC,GAArB,CAAD,CAAT,CACH,CALL,EAMH,CAPQ,CAOP,EAPO,CAAT,CAQA,GAAIc,CAAAA,GAAG,CAAG,IAAV,CACA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBb,QAAQ,CAAC,CACLF,GAAG,CAACA,GAAG,CAAC,CADH,CAAD,CAAR,CAGAI,SAAS,CAACP,KAAK,CAACgB,KAAN,CAAYd,KAAZ,CAAkBC,GAAlB,CAAD,CAAT,CAEAc,GAAG,cAAG,4CAAM,oBAAC,QAAD,MAAN,CAAN,CACH,CAPD,CAQA,GAAME,CAAAA,aAAa,CAAGzB,MAAM,CAAC0B,GAAV,mBAAnB,CAgCA,mBACI,qDACI,oBAAC,aAAD,MACKpB,KAAK,CACJA,KAAK,CAACqB,GAAN,CAAU,SAAAC,IAAI,CAAI,CAChB,mBACI,2BAAK,GAAG,CAAEA,IAAI,CAACC,EAAf,eACI,oBAAC,IAAD,EAAM,EAAE,qBAAeD,IAAI,CAACE,GAApB,CAAR,CAAmC,KAAK,CAAE,CAACC,cAAc,CAAC,MAAhB,CAAuBC,KAAK,CAAC,MAA7B,CAA1C,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,4BAAM,SAAS,CAAC,OAAhB,EACKJ,IAAI,CAACK,KADV,CAEKL,IAAI,CAACE,GAFV,CADJ,cAKI,4BAAM,SAAS,CAAC,MAAhB,EAAwBF,IAAI,CAACM,IAA7B,CALJ,CADJ,CADJ,CADJ,CAaH,CAdC,CADI,CAgBJ,SAjBN,CADJ,cAqBI,oBAAC,QAAD,EAAW,OAAO,CAAGV,aAArB,EArBJ,CAsBKD,GAtBL,CADJ,CA2BH,CACD,cAAelB,CAAAA,QAAf","sourcesContent":["import React ,{useState,useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport axios from 'axios'\r\nimport {Link} from 'react-router-dom'\r\nimport ListIcon from './Icon/ListIcon.js'\r\n// 페이징 로직 참조 https://medium.com/@han7096/%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%8E%98%EC%9D%B4%EC%A7%80%EB%84%A4%EC%9D%B4%EC%85%98-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-eb4f0f4a1da0\r\n// 페이징 나중에 구현\r\nconst fetchURL = \"http://localhost:5000/getPost\"\r\n\r\nfunction ShowPost() {\r\n    const [items,SetItems] = useState()\r\n    const [count,SetCount] = useState({\r\n        start:0,\r\n        end:8\r\n    })\r\n    const [target,SetTarget] = useState()\r\n    const {page,start,end} = count\r\n\r\n    useEffect(() => {\r\n        axios.post(fetchURL).then(res=> {\r\n                console.log(res)\r\n                console.log(res.data.length)\r\n                SetItems(res.data)\r\n                SetTarget(res.data.slice(start,end))\r\n            })\r\n    },[])\r\n    let key = null\r\n    const ChangeIndexUp = () => {\r\n        SetCount({\r\n            end:end+8\r\n        })\r\n        SetTarget(items.slice(start,end))\r\n        \r\n        key = <div>{<ShowPost />}</div>\r\n    }\r\n    const ShowPostBlock = styled.div`\r\n        width:100%;\r\n        display:flex;\r\n        flex-direction:column;\r\n        .Header {\r\n            display:flex;\r\n            flex-direction:column;\r\n            padding:30px 15px 30px;\r\n            border-bottom:1px solid #ebebeb;\r\n            margin-left:10px;\r\n            cursor:pointer;\r\n            @media(max-width:767px) {\r\n                min-height:100px;\r\n            }\r\n            .title {\r\n                font-size:18px;\r\n                color:#080808;\r\n                margin:8px 0px;\r\n                font-weight:700;\r\n                &:hover {\r\n                    text-decoration:underline;\r\n                }\r\n            }\r\n            .body {\r\n                font-size:15px;\r\n                color:#666666;\r\n                overflow:hidden;\r\n                lien-height:1.6;\r\n            }\r\n        }\r\n        \r\n    `\r\n    return (\r\n        <>\r\n            <ShowPostBlock>\r\n                {items\r\n                ? items.map(item => {\r\n                    return (\r\n                        <div key={item.id}>\r\n                            <Link to={`/PostPage/${item._id}`} style={{textDecoration:'none',color:'none'}}>\r\n                                <div className=\"Header\" >\r\n                                    <span className=\"title\">\r\n                                        {item.title}\r\n                                        {item._id}\r\n                                    </span>\r\n                                    <span className=\"body\">{item.body}</span>\r\n                                </div>\r\n                            </Link>\r\n                        </div>\r\n                    )\r\n                })\r\n                : \"Loading\"\r\n                }\r\n            </ShowPostBlock>\r\n            <ListIcon  onClick ={ChangeIndexUp} />\r\n            {key}\r\n        </>\r\n        \r\n    )\r\n}\r\nexport default ShowPost"]},"metadata":{},"sourceType":"module"}